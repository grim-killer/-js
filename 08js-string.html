<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div>
    <label>String A:
        <input id="radio-a" type="radio" checked="true" name="str-obj" value="a">
    </label>
    <textarea id="str-a" style="line-height: 1.0;"></textarea>
    <label>String B:
        <input id="radio-b" type="radio" name="str-obj" value="b">
    </label>
    <textarea id="str-b" style="line-height: 1.0;"></textarea>
    <label>Num A：<input id="num-a" type="number" value="0"></label>
    <label>Num B：<input id="num-b" type="number" value="1"></label>
</div>
<div>
    <button>获取当前选中输入的内容长度</button>
    <button>当前选中输入中的第3个字符</button>
    <button>把两个输入框的文字连接在一起输出（concat）</button>
    <button>输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
    <button>输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
    <button>使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
    <button>当前选中输入框的行数</button>
    <button>使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
    <button>把所选输入框中的内容全部转为大写</button>
    <button>把所选输入框中的内容全部转为小写</button>
    <button>把所选输入框中内容的半角空格全部去除</button>
    <button>把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
</div>
<p id="result"></p>
<script>
    //获取当前选中输入的内容长度
    document.getElementsByTagName('button')[0].onclick=function () {
        var list=document.getElementsByName('str-obj');
        for(var i=0,len=list.length;i<len;i++){
            if(list[i].checked){
                var content=list[i].value;
                if(content=="a"){
                    var txt1=document.getElementById('str-a').value;
                     //  console.log(txt1);
                        document.getElementById('result').innerHTML=txt1.length;
                }
                if(content=="b"){
                    var txt2=document.getElementById('str-b').value;
                    // console.log(txt2);
                    document.getElementById('result').innerHTML=txt2.length;
                }
            }
        }
    }
    //当前选中输入中的第3个字符
    document.getElementsByTagName('button')[1].onclick=function () {
        var list=document.getElementsByName('str-obj');
        for(var i=0,len=list.length;i<len;i++){
            if(list[i].checked){
                var content=list[i].value;
                if(content=="a"){
                    var txt1=document.getElementById('str-a').value;
                   // console.log(txt1);
                    document.getElementById('result').innerHTML=txt1.charAt(2);
                }
                if(content=="b"){
                    var txt2=document.getElementById('str-b').value;
                    // console.log(txt2);
                    document.getElementById('result').innerHTML=txt2.charAt(2);
                }
            }
        }
    }
    //把两个输入框的文字连接在一起输出(concat)
    document.getElementsByTagName('button')[2].onclick=function (){
        var txt1=document.getElementById('str-a').value;
        var txt2=document.getElementById('str-b').value;
        document.getElementById('result').innerHTML=txt1.concat(txt2);
    }
    //输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）
    document.getElementsByTagName('button')[3].onclick=function (){
        var txt1=document.getElementById('str-a').value;
        var txt2=document.getElementById('str-b').value;
        document.getElementById('result').innerHTML=txt1.indexOf(txt2);
    }
    //输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）
    document.getElementsByTagName('button')[4].onclick=function (){
        var txt1=document.getElementById('str-a').value;
        var txt2=document.getElementById('str-b').value;
        document.getElementById('result').innerHTML=txt2.lastIndexOf(txt1);
    }
    //使用slice获取选中输入框内容的部分内容，参数为num-a及num-b
    document.getElementsByTagName('button')[5].onclick=function (){
        var num1=document.getElementById('num-a').value;
        var num2=document.getElementById('num-b').value;
        var list=document.getElementsByName('str-obj');
        for(var i=0,len=list.length;i<len;i++){
            if(list[i].checked){
                var content=list[i].value;
                if(content=="a"){
                    var txt1=document.getElementById('str-a').value;
                    //  console.log(txt1);
                    document.getElementById('result').innerHTML=txt1.slice(num1,num2);
                }
                if(content=="b"){
                    var txt2=document.getElementById('str-b').value;
                    // console.log(txt2);
                    document.getElementById('result').innerHTML=txt2.slice(num1,num2);
                }
            }
        }

    }
    //当前选中输入框的行数(用整个高除以行高
    document.getElementsByTagName('button')[6].onclick=function (){
        var list=document.getElementsByName('str-obj');
        for(var i=0,len=list.length;i<len;i++){
            if(list[i].checked){
                var content=list[i].value;
                if(content=="a"){
                    var txt1=document.getElementById('str-a');
                    var height=document.defaultView.getComputedStyle(txt1,null).getPropertyValue('height');
                    var lineHeight=document.defaultView.getComputedStyle(txt1,null).getPropertyValue('line-height');
                     n=parseInt(height)/parseInt(lineHeight);
                   // var row=txt1.match(/\n+/g);只能判断键盘回车键输入的行数，不能判断系统自己换行的行数
                       document.getElementById('result').innerHTML=Math.round(n);
                }
                if(content=="b"){
                    var txt2=document.getElementById('str-b');
                    var height=document.defaultView.getComputedStyle(txt2,null).getPropertyValue('height');
                    var lineHeight=document.defaultView.getComputedStyle(txt2,null).getPropertyValue('line-height');
                    n=parseInt(height)/parseInt(lineHeight);
                    // var row=txt1.match(/\n+/g);只能判断键盘回车键输入的行数，不能判断系统自己换行的行数
                    document.getElementById('result').innerHTML=Math.round(n);
                }
            }
        }
    }
    //使用substr获取选中输入框内容的子字符串，参数为num-a及num-b
    document.getElementsByTagName('button')[7].onclick=function (){
        var num1=document.getElementById('num-a').value;
        var num2=document.getElementById('num-b').value;
        var list=document.getElementsByName('str-obj');
        for(var i=0,len=list.length;i<len;i++){
            if(list[i].checked){
                var content=list[i].value;
                if(content=="a"){
                    var txt1=document.getElementById('str-a').value;
                    //  console.log(txt1);
                    document.getElementById('result').innerHTML=txt1.substr(num1,num2);
                }
                if(content=="b"){
                    var txt2=document.getElementById('str-b').value;
                    // console.log(txt2);
                    document.getElementById('result').innerHTML=txt2.substr(num1,num2);
                }
            }
        }

    }
    //把所选输入框中的内容全部转为大写
    document.getElementsByTagName('button')[8].onclick=function () {
        var list=document.getElementsByName('str-obj');
        for(var i=0,len=list.length;i<len;i++){
            if(list[i].checked){
                var content=list[i].value;
                if(content=="a"){
                    var txt1=document.getElementById('str-a').value;
                    //  console.log(txt1);
                    document.getElementById('result').innerHTML=txt1.toUpperCase();
                }
                if(content=="b"){
                    var txt2=document.getElementById('str-b').value;
                    // console.log(txt2);
                    document.getElementById('result').innerHTML=txt2.toUpperCase();
                }
            }
        }
    }
    //把所选输入框中的内容全部转为小写
    document.getElementsByTagName('button')[9].onclick=function () {
        var list=document.getElementsByName('str-obj');
        for(var i=0,len=list.length;i<len;i++){
            if(list[i].checked){
                var content=list[i].value;
                if(content=="a"){
                    var txt1=document.getElementById('str-a').value;
                    //  console.log(txt1);
                    document.getElementById('result').innerHTML=txt1.toLowerCase();
                }
                if(content=="b"){
                    var txt2=document.getElementById('str-b').value;
                    // console.log(txt2);
                    document.getElementById('result').innerHTML=txt2.toLowerCase();
                }
            }
        }
    }
    //把所选输入框中内容的半角空格全部去除
    document.getElementsByTagName('button')[10].onclick=function (){
        var list=document.getElementsByName('str-obj');
        for(var i=0,len=list.length;i<len;i++){
            if(list[i].checked){
                var content=list[i].value;
                if(content=="a"){
                    var txt1=document.getElementById('str-a').value;
                    //  console.log(txt1);
                    document.getElementById('result').innerHTML=kongge(txt1);
                }
                if(content=="b"){
                    var txt2=document.getElementById('str-b').value;
                    // console.log(txt2);
                    document.getElementById('result').innerHTML=kongge(txt2);
                }
            }
        }

    }
    function kongge(str) {
        var a=str.split('');
        var b=new Array();
        var j=0;
        //全角空格 Unicode编码 12288
        //半角空格 Unicode编码 32
        for (var i=0;i<str.length;i++){
            if (str.charCodeAt(i)!=32&&str.charCodeAt(i)!=12288){
                b[j]=a[i];
                j++;
            }
        }
        return b.join('');
    }
    //把所选输入框中内容的a全部替换成另外一个输入框中的内容
    document.getElementsByTagName('button')[11].onclick=function (){
        var list=document.getElementsByName('str-obj');
        var txt1=document.getElementById('str-a').value;
        var txt2=document.getElementById('str-b').value;

        for(var i=0,len=list.length;i<len;i++){
            if(list[i].checked){
                var content=list[i].value;
                if(content=="a"){

                    //  console.log(txt1);
                    document.getElementById('result').innerHTML=txt1.replace(/a/g,txt2);
                }
                if(content=="b"){
                    // console.log(txt2);
                    document.getElementById('result').innerHTML=txt2.replace(/a/g,txt1);
                }
            }
        }
    }

    /*
实现一个字符串头尾去除空格的函数(string.trim())
注意需要去除的空格，包括全角、半角空格
暂时不需要学习和使用正则表达式的方式
*/
    function diyTrim(str) {
        var result = "";
        result=str.trim();
        return result
    }

    // 测试用例
    console.log(diyTrim(' a f b    ')); // ->a f b
    console.log(diyTrim('    ffdaf    ')); // ->ffdaf
    console.log(diyTrim('1    ')); // ->1
    console.log(diyTrim('　　f')); // ->f
    console.log(diyTrim('  　  a f b 　　 ')); // ->a f b
    console.log(diyTrim(' ')); // ->
    console.log(diyTrim('　')); // ->
    console.log(diyTrim('')); // ->

    /*
    去掉字符串str中，连续重复的地方
    */
    function removeRepetition(str) {
        var result = [];
        var a=str.split('');
        for(var i=0;i<a.length;i++){
            if(a[i]!=a[i+1]){
                result.push(a[i]);
            }

    }
        return result.join('');
    }

    // 测试用例
    console.log(removeRepetition("aaa")); // ->a
    console.log(removeRepetition("abbba")); // ->aba
    console.log(removeRepetition("aabbaabb")); // ->abab
    console.log(removeRepetition("")); // ->
    console.log(removeRepetition("abc")); // ->abc


</script>
</body>
</html>